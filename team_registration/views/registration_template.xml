<odoo>
  <template id="team_form_template" name="Team Registration Form">
    <t t-call="website.layout">

      <!-- Full-page gray background -->
      <div style="background-color: #white; min-height: 100vh; padding: 40px 0;">
        <div class="d-flex justify-content-center">
          <div class="p-4 rounded shadow"
            style="background-color: #f5f5f5; max-width: 600px; width: 100%;">
            <div class="text-center mb-4">
              <h2 class="fw-bold">Join the PEPTIDAT team</h2>
              <p>Are you passionate about health, fitness, and innovation?<br /> PEPTIDAT Nutrition
                is looking for talented individuals to join our growing team!</p>
            </div>

            <form action="/team/submit/create" method="post" enctype="multipart/form-data">
              <input type="hidden" name="referrer_id" t-att-value="referrer_id" />

              <div class="mb-3">
                <label class="form-label">Full Name *</label>
                <input type="text" name="full_name" class="form-control"
                  placeholder="Please write the full name as it appears on the national ID."
                  required="required" />
              </div>
              <div class="mb-3">
                <label class="form-label">Phone Number *</label>
                <div class="input-group">
                  <span class="input-group-text">+962</span>
                  <input
                    type="text"
                    name="phone"
                    class="form-control"
                    placeholder="7XXXXXXXX"
                    maxlength="9"
                    required="required"
                    id="phone-input"
                    pattern="7\d{8}"
                    title="Phone number must start with 7 and be 9 digits long"
                  />
                </div>
              </div>


              <div class="mb-3">
                <label class="form-label">Your Email</label>
                <input type="email" name="email" class="form-control"
                  placeholder="example@email.com" />
              </div>

              <div class="mb-3">
                <label class="form-label">If Accepted What is your password preferred? *</label>
                <input type="text" name="password" class="form-control"
                  placeholder="****" required="required" />
              </div>

              <div class="mb-3">
                <label class="form-label">Confirm Password *</label>
                <input type="password" name="confirm_password" class="form-control"
                  placeholder="****" required="required" />
              </div>
              <div id="password-error" style="color: red; margin-bottom: 0.8rem; font-size: 0.9rem;"></div>


              <div class="mb-3">
                <label class="form-label">Applicant's description *</label>
                <br />
                <div class="form-check form-check-inline">
                  <input class="form-check-input" type="radio" name="role" id="coach" value="coach"
                    required="required" />
                  <label class="form-check-label" for="coach">Coach</label>
                </div>
                <div class="form-check form-check-inline">
                  <input class="form-check-input" type="radio" name="role" id="nutritionist"
                    value="nutritionist" />
                  <label class="form-check-label" for="nutritionist">Nutritionist</label>
                </div>
                <div class="form-check form-check-inline">
                  <input class="form-check-input" type="radio" name="role" id="owner" value="owner" />
                  <label class="form-check-label" for="owner">Owner</label>
                </div>
              </div>

              <div class="mb-3">
                <label class="form-label">Years of experience</label>
                <input type="number" name="experience" class="form-control"
                  placeholder="Enter only a number..." />
              </div>

              <div class="mb-3">
                <label class="form-label">Name of Fitness / Nutrition Center</label>
                <input type="text" name="center" class="form-control" />
              </div>

              <div class="mb-3">
                <label class="form-label">City *</label>
                <select name="city" class="form-select" required="required">
                  <option value="">Select your city</option>
                  <option value="Amman">Amman</option>
                  <option value="Zarqa">Zarqa</option>
                  <option value="Irbid">Irbid</option>
                  <option value="Balqa">Balqa</option>
                  <option value="Madaba">Madaba</option>
                  <option value="Mafraq">Mafraq</option>
                  <option value="Jerash">Jerash</option>
                  <option value="Ajloun">Ajloun</option>
                  <option value="Karak">Karak</option>
                  <option value="Tafilah">Tafilah</option>
                  <option value="Ma'an">Ma'an</option>
                  <option value="Aqaba">Aqaba</option>
                </select>
              </div>

              <div class="mb-3">
                <label class="form-label">Address / st. *</label>
                <input type="text" name="address" class="form-control"
                  placeholder="Sweileh, King Husain st, Build NO.23" required="required" />
              </div>

              <div class="mb-3">
                <label class="form-label">Academic degree</label>
                <select name="degree" class="form-select">
                  <option value="high_school">High School</option>
                  <option value="bachelor">Bachelor</option>
                  <option value="master">Master</option>
                  <option value="phd">PhD</option>
                </select>
              </div>

              <div class="mb-3">
                <label class="form-label">Certificate of practice *</label>
                <input type="file" name="cert_file" class="form-control" />
                <small class="text-muted">Attach a certificate of practicing the profession or
                  anything related to it.</small>
              </div>

              <div class="text-center mt-4">
                <button type="submit" class="btn btn-primary px-4">Submit</button>
              </div>
            </form>

          </div>
        </div>
      </div>
      <script type="text/javascript">
<![CDATA[
  document.addEventListener('DOMContentLoaded', function () {
    const form = document.querySelector('form[action="/team/submit/create"]');
    const errorDiv = document.getElementById('password-error');
    const phoneInput = form.querySelector('input[name="phone"]');

    form.addEventListener('submit', function (e) {
      const password = form.querySelector('input[name="password"]').value.trim();
      const confirmPassword = form.querySelector('input[name="confirm_password"]').value.trim();
      let phone = phoneInput.value.trim();

      // Password validation
      if (!password || !confirmPassword) {
        e.preventDefault();
        errorDiv.textContent = "Please fill out both password fields.";
        return;
      }

      if (password !== confirmPassword) {
        e.preventDefault();
        errorDiv.textContent = "Passwords do not match. Please check and try again.";
        return;
      }

      // Phone validation & normalization
      phone = phone.replace(/\D/g, ''); // remove non-digit characters

      if (phone.startsWith('0')) {
        phone = phone.slice(1);
      }

      if (!phone.startsWith('7')) {
        phone = '7' + phone.slice(1);
      }

      if (phone.length > 9) {
        phone = phone.slice(0, 9);
      }

      if (phone.length !== 9) {
        e.preventDefault();
        errorDiv.textContent = "Phone number must be exactly 9 digits and start with 7.";
        return;
      }

      // Update the input value with normalized phone before submission
      phoneInput.value = phone;

      // Clear error if all good
      errorDiv.textContent = "";
    });
  });
]]>
</script>


    </t>
  </template>
</odoo>